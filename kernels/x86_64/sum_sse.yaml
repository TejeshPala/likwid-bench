---
- Name: sum_sse
- Description: Double-precision sum of a vector, optimized for SSE
- RequireWorkGroup: true
- FeatureFlag:
  - sse
- Parameters:
  - N:
      description: 'Size of array that should be loaded, Possible Values: kB, MB,
        GB'
      options:
      - bytes
      - required
- Streams:
  - STR0:
      datatype: double
      dimension: 1
      dimsizes:
      - N
- Variables:
    BYTES_PER_ELEM: 8
    FLOPS_PER_ELEM: 1
    LOADS_PER_ELEM: 1
    BYTES_PER_ITER: 128
    FLOPS_PER_ITER: 16
    LOADS_PER_ITER: 16
    INST_PER_ITER: 8
    UPOS_PER_ITER: 16
    UNROLL_FACTOR: 16
- Metrics:
    Flops [MFLOPS/s]: FLOPS_PER_ITER * ITER / TIME
    Load bandwidth [MBytes/s]: LOADS_PER_ITER * BYTES_PER_ELEM * ITER / TIME
    Total bandwidth [MBytes/s]: BYTES_PER_ITER * ITER / TIME
    Total uops: UPOS_PER_ITER * ITER
    Total instructions: INST_PER_ITER * ITER
- Theads:
    offsets: Thread_ID * N / NUM_THREADS
    sizes: N / NUM_THREADS
- Language: asm
...
LOOP(loop, rax=0, <, rdi=N, 16)
addpd    FPR1, [STR0 + rax * 8]
addpd    FPR2, [STR0 + rax * 8 + 16]
addpd    FPR3, [STR0 + rax * 8 + 32]
addpd    FPR4, [STR0 + rax * 8 + 48]
addpd    FPR5, [STR0 + rax * 8 + 64]
addpd    FPR6, [STR0 + rax * 8 + 80]
addpd    FPR7, [STR0 + rax * 8 + 96]
addpd    FPR8, [STR0 + rax * 8 + 112]
LOOPEND(loop)
# ptt for comparision [Will be removed soon]
STREAMS 1
TYPE DOUBLE
FLOPS 1
BYTES 8
DESC Double-precision sum of a vector, optimized for SSE
LOADS 1
STORES 0
INSTR_CONST 24
INSTR_LOOP 11
UOPS 18
xorpd FPR1, FPR1
movapd FPR2, FPR1
movapd FPR3, FPR1
movapd FPR4, FPR1
movapd FPR5, FPR1
movapd FPR6, FPR1
movapd FPR7, FPR1
movapd FPR8, FPR1
LOOP 16
addpd    FPR1, [STR0 + GPR1 * 8]
addpd    FPR2, [STR0 + GPR1 * 8 + 16]
addpd    FPR3, [STR0 + GPR1 * 8 + 32]
addpd    FPR4, [STR0 + GPR1 * 8 + 48]
addpd    FPR5, [STR0 + GPR1 * 8 + 64]
addpd    FPR6, [STR0 + GPR1 * 8 + 80]
addpd    FPR7, [STR0 + GPR1 * 8 + 96]
addpd    FPR8, [STR0 + GPR1 * 8 + 112]


